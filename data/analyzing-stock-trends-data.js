window.mindmapData = {
  nodes: [
    {
      text: "0. Analyzing Stock Trends",
      important: true,
      classic: "Key Concepts: Trend Lines, Moving Averages",
      description: `
        <strong>Analyzing Stock Trends</strong> is a foundational practice in technical analysis, aiming to identify the direction and strength of price movements over time.
        By studying historical price data, traders attempt to detect <em>uptrends</em>, <em>downtrends</em>, or <em>sideways consolidation</em> that can inform buying or selling decisions.
        <br><br>
        📊 Key techniques include:<br>
        • Trend lines (support & resistance)<br>
        • Moving averages (SMA, EMA)<br>
        • Momentum indicators (RSI, MACD)<br>
        • Volume confirmation<br><br>
        🔗 <a href="https://www.investopedia.com/articles/trading/04/092204.asp" target="_blank">Investopedia: Trend Trading Strategies</a><br>
      `
    },
    {
      text: "1. Trend Identification",
      description: `
              <!-- Trend Identification Content -->

<div style="display:flex;align-items:center;gap:12px;margin-bottom:4px;">
  <div style="width:4px;height:28px;background:#38bdf8;border-radius:4px;"></div>
  <h3 style="margin:0;color:#0e7490;font-weight:700;letter-spacing:.3px;">
    🔍 Trend Identification
  </h3>
</div>

<p><strong>Trend Identification</strong> is the process of recognizing the prevailing market direction — whether bullish, bearish, or neutral. 
A trend is defined by a series of higher highs and higher lows (<strong>uptrend</strong>), or lower highs and lower lows (<strong>downtrend</strong>).</p>

<p><strong>📊 Core methods include:</strong></p>

<!-- Table for Core Methods -->
<table style="width:100%;border-collapse:collapse;font-size:0.95rem;">
  <thead>
    <tr>
      <th style="width:30%;border-bottom:2px solid #bae6fd;text-align:left;padding:6px;">Method</th>
      <th style="border-bottom:2px solid #bae6fd;text-align:left;padding:6px;">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr style="background:#f0f9ff;">
      <td style="padding:6px 4px;"><strong>Price Action Analysis</strong></td>
      <td style="padding:6px 4px;">Visual inspection of chart movements to identify trends.</td>
    </tr>
    <tr style="background:#ecfeff;">
      <td style="padding:6px 4px;"><strong>Moving Averages</strong></td>
      <td style="padding:6px 4px;">Smoothing techniques (SMA/EMA) to confirm longer-term market direction.</td>
    </tr>
    <tr style="background:#e0f2fe;">
      <td style="padding:6px 4px;"><strong>Breakouts</strong></td>
      <td style="padding:6px 4px;">Identifying key levels where trends accelerate.</td>
    </tr>
  </tbody>
</table>

<p><strong>💡 Confirmation requires multiple time frames and often volume validation to ensure the trend is valid.</strong></p>

<h4 style="color:#0e7490;margin-top:1rem;">📈 Key Insights & Takeaways</h4>
<ul>
  <li><strong>Trend Reversal Indicators:</strong> Watch for trendline breaks and price action indicating a change in direction.</li>
  <li><strong>Volume Confirmation:</strong> Volume is essential in confirming trend strength. Rising volume during an uptrend indicates strength.</li>
  <li><strong>Trend Duration:</strong> Longer trends typically yield larger profits, while short-term trends require quick exit strategies.</li>
</ul>

<p><strong>🔗 <a href="https://www.investopedia.com/articles/trading/04/092204.asp" target="_blank">How to Recognize Trends - Investopedia</a></strong></p>
🔗 <a href="https://www.investopedia.com/articles/trading/07/rising_wedge.asp" target="_blank">How to Recognize Trends - Investopedia</a>

<h4 style="color:#0e7490;margin-top:1rem;">📉 Practical Application</h4>
<p>Traders apply these methods to spot potential entry points for long or short positions. Identifying uptrends early using moving averages or breakout patterns allows traders to maximize gains from a trend.</p>

<!-- Image for Trend Identification -->
<h4>📊 Visual Aid:</h4>
<p>Below is an example chart showing key breakout levels and trend lines on a stock price graph. The breakout above resistance marks a potential entry point for an uptrend.</p>
<img src="path_to_trend_identification_chart.png" alt="Trend Identification Chart" style="width:100%;">

<!-- Formula Spotlight -->
<h4 style="color:#0e7490;margin-top:1rem;">Formula Spotlight <span class="tag">famous formulas</span></h4>
<p style="margin-bottom:0.3rem;">Trendline Breakout Calculation:</p>
<pre style="background:#f9fafb;padding:6px 8px;border-radius:6px;">
ΔP<sub>stock</sub> ≈ β × ΔP<sub>market</sub>  β ≈ 1.5
</pre>

<!-- Investor Tips -->
<h4 style="color:#0e7490;">Investor Tips <span class="tag">response strategies</span></h4>
<ol>
  <li>Diversify across multiple timeframes for better trend confirmation.</li>
  <li>Combine trend identification with fundamental analysis for a more comprehensive approach.</li>
  <li>Use volume analysis to confirm trend strength.</li>
</ol>

<!-- Sources -->
<hr>
<small>Sources: Technical Analysis of the Financial Markets, Investopedia, Market Data</small>

      `
    },
    {
      text: "2. Indicators & Tools",
      description: `
        <strong>Indicators and Tools</strong> assist traders in analyzing price data quantitatively. 
        These technical indicators help confirm trends, spot reversals, and measure momentum, volatility, and volume.
        <br><br>
        🧰 Common tools include:<br>
        • <strong>Moving Averages</strong> (Simple & Exponential)<br>
        • <strong>MACD</strong> (Moving Average Convergence Divergence)<br>
        • <strong>Relative Strength Index (RSI)</strong><br>
        • <strong>Bollinger Bands</strong><br>
        • <strong>Volume Oscillators</strong><br><br>
        📘 While indicators should support your analysis, they are most effective when used in conjunction with price structure and market context.<br>
        🔗 <a href="https://www.tradingview.com/ideas/technicalindicators/" target="_blank">TradingView: Popular Indicators</a>
      `,
      image: "images/Analyzing Stock Trends2.0.png"
    },
    {
      text: "3. Patterns & Structures",
      description: `
        <strong>Patterns and Chart Structures</strong> reflect recurring formations in price movement that may signal potential breakouts, reversals, or continuation.
        These are critical tools in classical technical analysis and are often used to anticipate market behavior.
        <br><br>
        📐 Popular patterns include:<br>
        • <strong>Head and Shoulders</strong><br>
        • <strong>Triangles</strong> (ascending, descending, symmetrical)<br>
        • <strong>Flags and Pennants</strong><br>
        • <strong>Double Tops and Bottoms</strong><br><br>
        📘 Pattern recognition improves when paired with volume analysis and broader trend context.<br>
        🔗 <a href="https://www.babypips.com/learn/forex/chart-patterns" target="_blank">BabyPips: Chart Patterns</a><br>
        🔗 <a href="https://www.investopedia.com/articles/technical/04/092204.asp" target="_blank">Classic Patterns Explained</a>
      `
    },
    {
      text: "4. Risk & Strategy",
      description: `
        <strong>Risk and Strategy</strong> are at the heart of successful trading.
        Trend analysis must be paired with disciplined <strong>risk management</strong> and <strong>execution plans</strong> to avoid emotional trading and maximize reward-to-risk ratios.
        <br><br>
        ⚖️ Key components include:<br>
        • <strong>Stop-loss placement</strong> (ATR-based, structure-based)<br>
        • <strong>Position sizing</strong> and risk-per-trade<br>
        • <strong>Trailing stops</strong> to lock in gains<br>
        • <strong>Trend-following vs. mean-reversion strategies</strong><br><br>
        📘 Successful strategies follow rules and adapt to different market conditions.<br>
        🔗 <a href="https://www.tradingview.com/ideas/riskmanagement/" target="_blank">TradingView: Risk Management Insights</a>
      `
    },    

    // 5~8: 原先的“趋势识别”子节点
    {
      text: "1.1 Trend Lines",
      description: `
        <strong>Trend Lines</strong> are straight lines drawn on a chart to connect successive swing highs or swing lows, visually highlighting the direction and strength of a trend.
        <br><br>
        ✍️ Types of trend lines:<br>
        • <strong>Uptrend line</strong>: connects higher lows in a bullish market<br>
        • <strong>Downtrend line</strong>: connects lower highs in a bearish market<br>
        <br>
        📘 Trend lines act as dynamic support and resistance levels. The more touches a line has, the more significant it becomes.<br>
        ⚠️ Always use closing prices for better consistency.<br><br>
        🔗 <a href="https://www.investopedia.com/terms/t/trendline.asp" target="_blank">Investopedia: What Is a Trendline?</a><br>
        📺
        <iframe width="100%" height="200" src="https://www.youtube.com/embed/Mr0StMfAZZU?si=tz8FUIwR4GvPVoVS" title="YouTube: How to Draw Trend Lines" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      `
    },
    {
      text: "1.2 Moving Averages",
      description: `
        <strong>Moving Averages (MA)</strong> are technical tools that smooth price data over a set period, helping traders identify trends and filter out short-term volatility.
        <br><br>
        🔢 Types of MAs:<br>
        • <strong>SMA</strong>: Simple Moving Average — equal weights<br>
        • <strong>EMA</strong>: Exponential Moving Average — more weight to recent prices<br>
        • <strong>WMA</strong>: Weighted Moving Average — user-defined weighting<br><br>
        📘 Crossovers (e.g., 50/200-day) are used to spot trend changes or entry signals.<br>
        📈 Popular strategies: Golden Cross, Death Cross<br><br>
        🔗 <a href="https://www.investopedia.com/articles/active-trading/052014/how-use-moving-average-buy-stocks.asp" target="_blank">Using Moving Averages to Buy Stocks</a>
      `
    },
    {
      text: "1.3 Market Phases",
      description: `
        The <strong>Four Market Phases</strong> describe the cyclical behavior of asset prices based on supply, demand, and investor psychology.
        Recognizing these phases helps traders align strategies with current market conditions.
        <br><br>
        🔁 Phases:<br>
        • <strong>Accumulation</strong>: smart money buys quietly after downtrend<br>
        • <strong>Mark-up</strong>: uptrend begins, volume rises<br>
        • <strong>Distribution</strong>: smart money sells as trend matures<br>
        • <strong>Mark-down</strong>: selling intensifies, downtrend resumes<br><br>
        📘 Understanding phases is key to anticipating breakouts or reversals.<br>
        🔗 <a href="https://www.investopedia.com/terms/m/marketcycle.asp" target="_blank">Investopedia: Market Cycle Basics</a>
      `
    },
    {
      text: "1.4 Support & Resistance",
      description: `
        <strong>Support and Resistance</strong> are price levels where markets tend to reverse or stall due to concentration of buying or selling interest.
        These zones act as psychological thresholds and trading decision points.
        <br><br>
        🧱 <strong>Support</strong>: price floor where buying pressure halts a downtrend<br>
        🧱 <strong>Resistance</strong>: price ceiling where selling pressure limits upside<br><br>
        📘 Role reversal: once breached, support becomes resistance (and vice versa).<br>
        ⚠️ Always confirm with volume or candlestick patterns.<br><br>
        🔗 <a href="https://www.babypips.com/learn/forex/support-and-resistance-levels" target="_blank">BabyPips: Support & Resistance</a>
      `
    },
    

    // 9~12: 原先的“指标和工具”子节点
    {
      text: "2.1 RSI",
      description: `
        The <strong>Relative Strength Index (RSI)</strong> is a momentum oscillator that measures the speed and change of price movements.
        It ranges from 0 to 100 and helps identify overbought or oversold conditions.
        <br><br>
        🧮 Formula: RSI = 100 − (100 ÷ (1 + RS)), where RS = average gain ÷ average loss over a period (typically 14 days)<br><br>
        ✅ <strong>Above 70</strong>: Often considered overbought<br>
        ✅ <strong>Below 30</strong>: Often considered oversold<br><br>
        📘 RSI is most powerful when combined with trend context, divergence signals, or support/resistance zones.<br>
        🔗 <a href="https://www.investopedia.com/terms/r/rsi.asp" target="_blank">Investopedia: RSI Explained</a><br>
        📺 
        <iframe width="100%" height="200" src="https://www.youtube.com/embed/TQMayZS9o1U?si=tul1lNsFqwqK6fc8" title="YouTube: RSI Basics" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      `
    },
    {
      text: "2.2 MACD",
      description: `
        <strong>MACD (Moving Average Convergence Divergence)</strong> is a trend-following momentum indicator that shows the relationship between two moving averages of price.
        <br><br>
        ⚙️ Default settings: <strong>MACD Line = 12 EMA – 26 EMA</strong><br>
        • Signal Line = 9 EMA of MACD Line<br>
        • Histogram = MACD Line − Signal Line<br><br>
        ✅ Bullish signal: MACD crosses above signal line<br>
        ✅ Bearish signal: MACD crosses below signal line<br><br>
        📘 MACD helps identify trend direction, strength, and reversals, especially when divergence appears.<br>
        🔗 <a href="https://www.investopedia.com/terms/m/macd.asp" target="_blank">Investopedia: MACD</a><br>
        📺 YouTube: MACD in Practice
      `,
       videoUrl:"https://www.youtube.com/embed/W78Xg_pnJ1A?si=MYfNVX31YWQDhhmC"
    },
    {
      text: "2.3 Bollinger Bands",
      description: `
        <strong>Bollinger Bands</strong> consist of a moving average and two standard deviation lines that expand and contract based on market volatility.
        Created by John Bollinger, they help traders visualize overbought or oversold conditions.
        <br><br>
        🧮 Formula:<br>
        • Middle Band = 20-period SMA<br>
        • Upper Band = SMA + (2 × standard deviation)<br>
        • Lower Band = SMA − (2 × standard deviation)<br><br>
        📘 Price touching the upper/lower band can signal trend continuation or reversal — use with confirmation (like RSI).<br>
        🔗 <a href="https://www.bollingerbands.com/" target="_blank">Official Bollinger Bands Website</a>
      `
    },
    {
      text: "2.4 Volume Analysis",
      description: `
        <strong>Volume Analysis</strong> interprets the number of shares or contracts traded to confirm trends or reversals.
        It is a fundamental yet often overlooked tool in technical analysis.
        <br><br>
        📈 Rising volume during a trend = strength<br>
        📉 Falling volume during a trend = weakening<br>
        📌 Volume spikes can indicate breakouts, climaxes, or institutional activity<br><br>
        📘 Combine volume with patterns, RSI/MACD, or candlestick signals for better trade entries.<br>
        🔗 <a href="https://www.investopedia.com/articles/technical/02/121702.asp" target="_blank">Investopedia: Understanding Volume</a><br>
        📺 YouTube: Using Volume Like a Pro
      `,
       videoUrl:"https://www.youtube.com/embed/CrHdBH6yBJ8?si=HAlYAcQ3FJ-QRkGB"
    },
    

    // 13~16: 原先的“形态和结构”子节点
    {
      text: "3.1 Chart Patterns",
      description: `
        <strong>Chart Patterns</strong> are recognizable shapes formed by price movements that signal potential future behavior.
        They are classified as continuation or reversal patterns depending on how they relate to the existing trend.
        <br><br>
        🧩 Key patterns include:<br>
        • <strong>Head and Shoulders</strong> – Reversal<br>
        • <strong>Double Top / Bottom</strong> – Reversal<br>
        • <strong>Triangles</strong> (ascending, descending, symmetrical) – Continuation<br>
        • <strong>Flags & Pennants</strong> – Short-term continuation<br><br>
        📘 Chart patterns are more effective when supported by volume and trend context.<br>
        🔗 <a href="https://www.investopedia.com/articles/technical/02/121702.asp" target="_blank">Investopedia: Chart Patterns</a><br>
        📺 YouTube: Chart Patterns Explained
      `,
       videoUrl:"https://www.youtube.com/embed/aRlWle9smww?si=w_bmTAHv9dZc1Pya"
    },
    {
      text: "3.2 Candlestick Patterns",
      description: `
        <strong>Candlestick Patterns</strong> are short-term visual cues based on Japanese candlestick formations that indicate market sentiment and potential reversals.
        They are widely used for entry and exit decisions.
        <br><br>
        🕯️ Popular patterns:<br>
        • <strong>Hammer / Inverted Hammer</strong><br>
        • <strong>Doji</strong><br>
        • <strong>Engulfing (Bullish/Bearish)</strong><br>
        • <strong>Shooting Star / Morning Star</strong><br><br>
        📘 Look for patterns at key levels (support/resistance), especially with volume confirmation.<br>
        🔗 <a href="https://www.investopedia.com/trading/candlestick-charting-what-is-it/" target="_blank">Investopedia: Candlestick Basics</a><br>
        📺 YouTube: Candlestick Pattern Guide
      `,
       videoUrl:"https://www.youtube.com/embed/tW13N4Hll88?si=00sliPvkI8n7Y2fg"
    },
    {
      text: "3.3 Breakouts & Pullbacks",
      description: `
        <strong>Breakouts and Pullbacks</strong> are crucial price behaviors that signal the start or continuation of trends.
        A breakout occurs when price moves outside a well-defined level or pattern, often on increased volume.
        <br><br>
        🔓 <strong>Breakouts</strong>: signal fresh momentum after consolidation<br>
        🔄 <strong>Pullbacks</strong>: short-term retracements in the trend direction, offering re-entry points<br><br>
        📘 Wait for confirmation (e.g. candle close, volume) to avoid false breakouts.<br>
        📺 YouTube: How to Avoid False Breakouts
      `,
      videoUrl:"https://www.youtube.com/embed/ZudTPpJCbbA?si=44aUDqYE0gXzchrv"
    },
    {
      text: "3.4 Price Channels",
      description: `
        <strong>Price Channels</strong> are technical tools formed by drawing two parallel trendlines around price action.
        They help define trend boundaries and are used for identifying overbought/oversold zones or breakout setups.
        <br><br>
        📊 Types of channels:<br>
        • <strong>Ascending Channel</strong> – bullish trend<br>
        • <strong>Descending Channel</strong> – bearish trend<br>
        • <strong>Horizontal Channel</strong> – range-bound market<br><br>
        📘 Channels are often used with oscillators like RSI for timing entries.<br>
        🔗 <a href="https://www.tradingview.com/ideas/channels/" target="_blank">TradingView: Price Channel Ideas</a><br>
      `
    },
    

    // 17~20: 原先的“风险管理和策略”子节点
    {
      text: "4.1 Stop-Loss Placement",
      person: "Alexander Elder",
      description: `
        <strong>Stop-Loss Placement</strong> is a cornerstone of capital protection. It limits losses when trades move against you.
        Effective stop-losses balance breathing room and capital preservation.
        <br><br>
        🛡️ Common techniques:<br>
        • <strong>ATR-based Stop</strong>: adjusts for volatility<br>
        • <strong>Structure-based Stop</strong>: placed below recent swing low<br>
        • <strong>Percentage-based Stop</strong>: fixed percentage of account equity<br><br>
        📘 Elder’s Rule: “If you must be in the market, be prepared to get out.”<br><br>
        📊 <img src="https://m.foolcdn.com/media/dubs/images/stop-loss-order-infographic.width-880.png" width="100%" alt="Stop Loss Example"><br>
        🔗 <a href="https://www.investopedia.com/articles/trading/06/stopplacement.asp" target="_blank">Stop-Loss Techniques – Investopedia</a><br>
      `
    },
    {
      text: "4.2 Position Sizing",
      person: "Van K. Tharp",
      description: `
        <strong>Position Sizing</strong> determines how much capital to allocate per trade based on risk tolerance.
        It directly impacts profitability, drawdown, and emotional stability.
        <br><br>
        🔢 Methods:<br>
        • <strong>Fixed Fractional</strong>: risk 1–2% per trade<br>
        • <strong>Kelly Criterion</strong>: based on expected value<br>
        • <strong>Volatility-Adjusted</strong>: based on ATR or standard deviation<br><br>
        🧠 "It's not whether you're right or wrong, but how much you win when you're right." – Soros<br><br>
        📊 <img src="https://cdn.prod.website-files.com/5fba23eb8789c3c7fcfb5f31/60db6a7981ecb05e38bcddde_%25%20Risked%20Per%20Trade.png" width="100%" alt="Position Sizing Chart"><br>
        🔗 <a href="https://www.tradingview.com/scripts/positionsizing/" target="_blank">TradingView Position Sizing Scripts</a><br>
      `
    },
    {
      text: "4.3 Trend Following Strategy",
      person: "Richard Dennis",
      description: `
        <strong>Trend Following</strong> is a strategy that profits from sustained price movement. 
        It ignores short-term noise and focuses on capturing big swings.
        <br><br>
        🚀 Core tools:<br>
        • Moving Averages<br>
        • Breakout systems<br>
        • Donchian Channels<br><br>
        ✅ Famous Example: The <em>Turtle Traders</em> used 20/55-day breakouts for entries<br><br>
        📊 <img src="https://26693533.fs1.hubspotusercontent-eu1.net/hubfs/26693533/CADJPY_2023-08-15_09-58-05.png" width="100%" alt="Trend Following Example"><br>
        🔗 <a href="https://www.newtraderu.com/2023/03/04/trend-following-trading-strategies/" target="_blank">Trend Following Strategies – NewTraderU</a><br>
      `
    },
    {
      text: "4.4 Counter-Trend Strategy",
      person: "John Bollinger",
      description: `
        <strong>Counter-Trend Strategy</strong> (or Mean Reversion) seeks to identify short-term extremes that are likely to revert back to the mean.
        It’s best used in range-bound or consolidating markets.
        <br><br>
        🎯 Typical tools:<br>
        • RSI divergence<br>
        • Bollinger Band bounces<br>
        • Support/Resistance rejection<br><br>
        ⚠️ Requires tight stops and precise timing<br><br>
        📊 <img src="https://howtotrade.com/wp-content/uploads/2023/10/counter-trend-anatomy-of-bollinger-bands.png" width="100%" alt="Counter-Trend with Bollinger Bands"><br>
        🔗 <a href="https://www.bollingerbands.com/bollinger-bands/" target="_blank">Bollinger Band Basics</a><br>
      `
    }
    
  ],
  connections: [
    // 根节点(0) → 四大中间层(1~4)
    [0, 1], [0, 2], [0, 3], [0, 4],

    // Trend Identification(1) → 5~8
    [1, 5], [1, 6], [1, 7], [1, 8],

    // Indicators & Tools(2) → 9~12
    [2, 9], [2, 10], [2, 11], [2, 12],

    // Patterns & Structures(3) → 13~16
    [3, 13], [3, 14], [3, 15], [3, 16],

    // Risk & Strategy(4) → 17~20
    [4, 17], [4, 18], [4, 19], [4, 20]
  ]
};
